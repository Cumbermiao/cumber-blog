---
title: linux 文件目录及常用命令
date: 2023-02-15 08:44:05
updated:
categories:
tags:
---

## 目录结构

1. bin，全称 binary 即二进制，该目录中存储的都是二进制文件，文件都是可以被运行的。
2. dev，该目录主要存放的是外接设备，例如盘、光盘等，在其中的外接设备不能直接被使用，需要先挂载。
3. etc，主要存放一些配置文件。
4. home，存放除 root 用户以外其他用户的 home 目录。
5. proc，全称 process，存放 Linux 运行时的进程。
6. root， root 用户的 home 目录。
7. sbin，全称 super binary，也是存放可执行的二进制文件，但是必须有 super 权限。
8. tmp，存放系统运行时的临时文件。
9. usr，存放用户自己安装的软件，类似于 windows 下的 program files。
10. var，主要存放程序、系统的日志文件。
11. mnt，当外界设备需要挂载时，存放在该目录下。

## 基础命令

### > >> 输出重定位
`>` 会覆盖输出文件的内容， `>>`在输出文件的末尾插入内容。

### df
作用： 查看磁盘空间
选项： -h 以高可读性展示；

### free
作用： 查看内存使用情况
选项： -m 以mb为单位展示； -g 以gb为单位展示；

### head
作用： 查看一个文件的前几行内容
选项： -n n为需要查看的行数，默认 10；

### tail
作用： 查看一个文件的后几行内容
选项： -n n为需要查看的行数；-f 实时追踪文件插入的内容；

### less
作用： 查看文件内容，默认一屏，通过空格键可以翻页，输入数字可以定位到对应行数开始查看。

### wc
作用： 统计文件信息，包含行数、单词数、字节数
选项： -lwc； l 行数； w 单词数； c 字节数；

### date
作用： 查看操作的日期时间
用法：
- `date "+F% %T"`或者`date "+%Y-%m-%d %H:%M:%S"`  以“2018-03-02 12:00:00”的格式展示日期，%F表示年月日，%T表示时分秒；注意要使用 + 号连接。
- `date "-1 day"`表示查看当前操作前一天的时间，操作符支持 `+-`，范围支持 day、month、year。

### hostname
作用： 查看当前主机的名称
选项： -f 输出主机名中的 FQDN（全限定域名）。

### id
作用： 查看用户的id信息（用户id、用户组id、附加组id）。

### ps
作用： 查看系统进程
选项： -ef；e 表示查看全部进程；f 表示展示进程的所有字段；
输出字段： 
- UID 表示执行进程的用户ID； 
- PID 表示进程ID； 
- PPID 表示父进程的ID；
- C 表示占用CPU的百分比；
- STIME 进程的启动时间；
- TTY 表示执行进程的终端，？表示非终端执行；
- TIME 进程的执行信息；
- CMD 该进程的命令或者路径；

### top
作用： 查看服务器的进程情况
输出字段：
- PR 优先级
- VIRT 虚拟内存
- RES 常驻内存
- SHR 共享内存
- S 进程状态，s表示sleep，r表示running
进程实际使用内存 = RES - SHR；
在top运行时，输入 M 可以按照内存占用降序展示，输入 P 按照CPU占用降序展示，输入 1 切换CPU展示模式；

### du
作用：查看目录真实大小
选项：-sh； s 表示只展示汇总的大小； h 高可读性；

### find
作用：用于查找文件
选项：
 - -name 按照文件名称进行搜索，支持模糊搜索
 - -type 按照文件类型进行搜索， “f”表示文件，“d”表示文件夹

### service
作用：控制软件服务的启动、停止、重启
语法：#service 服务名 [restart|start|stop]

### kill、killall
作用：kill 杀某个进程；killall 啥符合的所有进程；
语法： #kill 进程id； #killall 进程名称；

### ifconfig
作用：查看网卡信息；

### reboot
作用：重启；
选项： -w 模拟重启，实际不重启（只写开关机的日志）；

### uptime
作用：输出计算机的运行时间；

### uname
作用：获取操作系统的信息
选项： -a 展示系统所有信息

### netstat 
作用：查看网络连接状态
选项：-tnlp；
- t 列出tcp协议的连接；
- n 将地址从字母组合转化为 ip，协议转化为端口号；
- l listen 展示监听状态的连接；
- p 显示发起的进程的 pid 和进程名称；

### man
作用：查看命令使用手册
语法：man 命令

### ln
作用：创建文件连接
选项：-s 创建软连接；

### ifdown
作用：停止某个网卡

### ifup
作用：启用某个网卡

### chkconfig
作用：查看自启动服务

## 操作技巧

- Ctrl+u 快速删除光标前的内容， ctrl+k 快速删除光标后的内容
- `cd ~` 可以快速进入到当前用户的 home 目录
- passwd 文件字段解释 `用户名:密码:用户ID:用户组ID:注释:家目录:解释器shell`

### 修改主机名

1. 临时修改主机名 `hostname 主机名`，需要切换用户才会生效。
2. 永久设置主机名（需要重启）， centos 下修改 `/etc/sysconfig/network`文件将 HOSTNAME 为对应主机名。
==注意，修改过主机名之后，需要修改  /etc/hosts 文件，将对应主机名指向本机。`==