---
title: 正则表达式
date: 2022-07-05 14:41:01
updated:
categories:
tags:
---

## 行的开始和结束

`^`脱字符号代表一行的开始，`$`美元符号代表结束。
它们的特殊之处在于它们匹配的是一个位置，而不是具体的文本。

## 字符组 Character Classes

### 匹配若干字符之一

正则表达式结构体 `[]` 允许使用者列出在某处期望匹配的字符，通常被称为字符组。

在字符组内部，**字符组元字符** `-`连字表示一个范围， `H[1-6]`与`H[123456]`是完全一样的。==注意：连接符只有在字符组里面才有可能是元字符。==

### 排除型字符组

`[^]` 字符组匹配任何未列出的字符，在字符组中开头`^`是元字符，表示排除。例如`[^1-6]`匹配除了1到6以外的字符。

## 元字符 `.`

元字符 `.`是用来匹配任意字符的字符组的简便写法，但是在字符组内部时它就不是元字符了。

## 多选结构

### 匹配任意子表达式

`|` 是一个非常简便的元字符，它的意思是“或”。依靠它，我么能够把不同的子表达式组合成一个总的表达式，其中子表达式成为**多选分支**。

**多选结构与字符组的区别在于：一个字符组只能匹配单个文字，而每个多选结构自身都可以是完整的正则表达式可以匹配任意长度的文本。**

## 单词分界符

使用`\<` `\>`元字符可以匹配单词分界的位置（不是所有 egrep 都支持。）

## 可选项元素

`?` 元字符代表可选项，它只作用于之前紧邻的元素。

## 其他量词：重复出现

`+` 和 `*` 的作用与 `?` 类似。 `+` 表示之前紧邻的元素出现一次或多次， `*` 表示之前紧邻的元素出现任意次（可不出现）。`+` `*` 会尽量匹配多次。

`?` `+` `*` 统称为两次，它们限定了所作用元素的匹配次数。

### 区间

`{min, max}` 元字符可以自定义重复出现次数的区间，称为“区间量词”。

## 反向引用

反向引用可以让我们匹配与表达式先前部分匹配的同样的文本。与括号配合使用，括号能够记住其中子表达式匹配的文本，通过使用元字符序列 `\1` 表示第1个匹配的文本。

## 转义符

如果需要匹配的某个字符本身就是元字符，则需要通过`\`转义。使用`\`+元字符的形式进行转义。

## 非捕获型括号 `(?:)`

正常情况下我们使用括号可以进行分组，匹配的文本会被捕获保存`$1`中，通过反向引用来使用。使用`(?:)`则可以只分组不捕获。

## 匹配空白字符

`\s`是所有表示空白字符的字符组，包含空格符、制表符、换行符、回车符。

## 环视 (lookaround)

环视结构不匹配任何字符，只匹配文本中的特定位置。类似于分界符、锚点。

1. 肯定逆序环视 `(?<=)` 子表达式能够匹配左侧文本；  否定逆序环视 `(?<!)` 子表达式不匹配左侧文本；
2. 肯定顺序环视 `(?=)` 子表达式能够匹配右侧文本； 否定顺序环视 `(?!)` 子表达式不匹配右侧文本；
